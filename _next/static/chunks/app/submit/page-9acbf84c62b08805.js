(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{550:(e,r,a)=>{"use strict";a.d(r,{Lf:()=>p,ap:()=>x,fW:()=>g});var l=a(2078),o=a(9708),t=a(1328),s=a(9996),i=a(4663);let n={apiKey:"AIzaSyDvtopV80qKWM-LamD4mQKFep3FR-NrPAM",authDomain:"mcbelist.firebaseapp.com",projectId:"mcbelist",storageBucket:"mcbelist.firebasestorage.app",messagingSenderId:"718617217848",appId:"1:718617217848:web:42485742e862f125078fcd",measurementId:"G-ELJG8BWGNL"},c=null,d=null,u=null,m=null,v=null;function b(){return c||(c=0===(0,l.Dk)().length?(0,l.Wp)(n):(0,l.Dk)()[0],d=(0,o.aU)(c),u=(0,t.xI)(c),m=(0,s.c7)(c),v=(0,i.P5)(c)),{app:c,db:d,auth:u,storage:m,analytics:v}}function p(){return d||b(),d}function x(){return u||b(),u}function g(){return m||b(),m}},2168:(e,r,a)=>{"use strict";a.d(r,{LD:()=>l,MV:()=>t,R6:()=>o});let l="KDwAH579lFVH69LoN0QnXIrPBXp2",o=["오픈채팅방","디스코드","기타"],t=["PvP","PvE","생존","크리에이티브","모드","애드온","서버","멀티플레이","싱글플레이","건축","레드스톤","마인크래프트 교육용","커맨드 블록","맵 제작","스킨","텍스처팩","리소스팩","행동팩","스카이블록","베드워즈","스카이워즈","미니게임","파크루","어드벤처","호러","탈출맵","퍼즐","롤플레이","RPG","경제","타운","서바이벌게임","헝거게임","팀전","PvE 협동","레이드","던전"]},3547:(e,r,a)=>{"use strict";a.d(r,{A:()=>n});var l=a(5155),o=a(2115),t=a(9497),s=a(1408),i=a(4486);function n(e){let{show:r,onClose:a,initialMode:n}=e,[c,d]=(0,o.useState)(n),[u,m]=(0,o.useState)(""),[v,b]=(0,o.useState)(""),[p,x]=(0,o.useState)(""),[g,h]=(0,o.useState)(""),[y,f]=(0,o.useState)(!1),{login:j,signup:w,loginWithGoogle:N}=(0,t.A)(),k=async e=>{if(e.preventDefault(),h(""),"signup"===c&&v!==p)return void h("비밀번호가 일치하지 않습니다.");if(v.length<6)return void h("비밀번호는 최소 6자 이상이어야 합니다.");f(!0);try{"login"===c?await j(u,v):await w(u,v),a(),m(""),b(""),x("")}catch(e){console.error("Auth error:",e),"auth/email-already-in-use"===e.code?h("이미 사용 중인 이메일입니다."):"auth/invalid-email"===e.code?h("유효하지 않은 이메일입니다."):"auth/user-not-found"===e.code?h("사용자를 찾을 수 없습니다."):"auth/wrong-password"===e.code?h("비밀번호가 올바르지 않습니다."):"auth/invalid-credential"===e.code?h("이메일 또는 비밀번호가 올바르지 않습니다."):h("인증 중 오류가 발생했습니다.")}finally{f(!1)}},C=async()=>{h(""),f(!0);try{await N(),a()}catch(e){console.error("Google login error:",e),h("Google 로그인 중 오류가 발생했습니다.")}finally{f(!1)}};return r?(0,l.jsx)(s.N,{children:r&&(0,l.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.6)"},onClick:a,children:(0,l.jsxs)(i.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-md p-6 rounded-ui-lg border",style:{background:"var(--ui-surface)",borderColor:"var(--ui-border)",boxShadow:"var(--ui-shadow-md)"},onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",style:{color:"var(--vp-c-text-1)"},children:"login"===c?"로그인":"회원가입"}),(0,l.jsx)("button",{onClick:a,className:"text-2xl font-bold w-8 h-8 flex items-center justify-center rounded hover:bg-opacity-10",style:{color:"var(--vp-c-text-2)"},children:"\xd7"})]}),(0,l.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"이메일"}),(0,l.jsx)("input",{id:"email",type:"email",value:u,onChange:e=>m(e.target.value),required:!0,className:"w-full px-3 py-2 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"},placeholder:"example@email.com"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"password",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"비밀번호"}),(0,l.jsx)("input",{id:"password",type:"password",value:v,onChange:e=>b(e.target.value),required:!0,className:"w-full px-3 py-2 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"},placeholder:"최소 6자"})]}),"signup"===c&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"confirmPassword",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"비밀번호 확인"}),(0,l.jsx)("input",{id:"confirmPassword",type:"password",value:p,onChange:e=>x(e.target.value),required:!0,className:"w-full px-3 py-2 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"},placeholder:"비밀번호 재입력"})]}),g&&(0,l.jsx)("div",{className:"p-3 rounded-ui-md border",style:{background:"var(--vp-c-danger-soft)",color:"var(--vp-c-danger)",borderColor:"rgba(224, 90, 79, 0.3)"},children:g}),(0,l.jsx)("button",{type:"submit",disabled:y,className:"w-full py-3 rounded-ui-sm font-semibold transition-all disabled:opacity-60",style:{background:"var(--vp-c-brand)",color:"#fff",boxShadow:"var(--ui-shadow-sm)"},children:y?"처리 중...":"login"===c?"로그인":"회원가입"})]}),(0,l.jsxs)("div",{className:"relative my-6",children:[(0,l.jsx)("div",{className:"absolute inset-0 flex items-center",style:{borderTop:"1px solid var(--ui-border)"}}),(0,l.jsx)("div",{className:"relative flex justify-center",children:(0,l.jsx)("span",{className:"px-2 text-sm",style:{background:"var(--ui-surface)",color:"var(--vp-c-text-2)"},children:"또는"})})]}),(0,l.jsxs)("button",{onClick:C,disabled:y,className:"w-full py-3 rounded-ui-sm font-semibold border transition-all disabled:opacity-60",style:{borderColor:"var(--ui-border-strong)",color:"var(--vp-c-text-1)",background:"var(--ui-surface-muted)"},children:["Google로 ","login"===c?"로그인":"회원가입"]}),(0,l.jsx)("div",{className:"mt-4 text-center",children:(0,l.jsx)("button",{onClick:()=>{d("login"===c?"signup":"login"),h("")},className:"text-sm transition-colors",style:{color:"var(--vp-c-brand)"},children:"login"===c?"계정이 없으신가요? 회원가입":"이미 계정이 있으신가요? 로그인"})})]})})}):null}},4158:(e,r,a)=>{Promise.resolve().then(a.bind(a,7997))},7997:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>v});var l=a(5155),o=a(2115),t=a(9708),s=a(9996),i=a(550),n=a(9497),c=a(3547),d=a(2168),u=a(4486);function m(){let{user:e,loading:r}=(0,n.A)(),[a,m]=(0,o.useState)(!1),[v,b]=(0,o.useState)({name:"",description:"",category:d.R6[0],link:"",tags:[],memberCount:0}),[p,x]=(0,o.useState)(null),[g,h]=(0,o.useState)(null),[y,f]=(0,o.useState)(""),[j,w]=(0,o.useState)("success"),[N,k]=(0,o.useState)(!1);function C(){h(null),x(null);let e=document.getElementById("image");e&&(e.value="")}async function S(e){let r=(0,i.fW)(),a=Date.now(),l="communities/".concat(a,"_").concat(e.name),o=(0,s.KR)(r,l);return await (0,s.D)(o,e),await (0,s.qk)(o)}async function P(r){if(r.preventDefault(),!v.name||!v.description){f("필수 항목을 모두 입력해주세요."),w("error");return}if(0===v.tags.length){f("최소 1개의 태그를 선택해주세요."),w("error");return}k(!0),f("");try{let r=(0,i.Lf)(),a=null;g&&(a=await S(g));let l={name:v.name,description:v.description,category:v.category,link:v.link||null,tags:v.tags,imageUrl:a,memberCount:parseInt(String(v.memberCount))||0,status:"pending",createdAt:(0,t.O5)(),createdBy:e.uid,createdByEmail:e.email,likes:[],dislikes:[],order:0};await (0,t.gS)((0,t.rJ)(r,"communities"),l),f("커뮤니티 등록 신청이 완료되었습니다. 관리자 승인 후 목록에 표시됩니다."),w("success"),b({name:"",description:"",category:d.R6[0],link:"",tags:[],memberCount:0}),C()}catch(e){console.error("Error adding community:",e),f("등록 중 오류가 발생했습니다. 다시 시도해주세요."),w("error")}finally{k(!1)}}return r?(0,l.jsx)(u.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center p-8 rounded-ui-lg border",style:{borderColor:"var(--ui-border)",background:"var(--ui-surface)",boxShadow:"var(--ui-shadow-sm)",color:"var(--vp-c-text-2)"},children:"로딩 중..."}):e?(0,l.jsxs)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid gap-7 grid-cols-1 lg:grid-cols-[2fr_1fr]",children:[(0,l.jsx)("div",{className:"p-7 rounded-ui-lg border",style:{borderColor:"var(--ui-border)",background:"var(--ui-surface)",boxShadow:"var(--ui-shadow-md)"},children:(0,l.jsxs)("form",{onSubmit:P,className:"space-y-5",children:[(0,l.jsxs)("div",{className:"grid gap-5 grid-cols-1 sm:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"name",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"커뮤니티 이름 *"}),(0,l.jsx)("input",{id:"name",type:"text",value:v.name,onChange:e=>b({...v,name:e.target.value}),placeholder:"예: 마크 베드락 서버",required:!0,className:"w-full px-3.5 py-3 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"category",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"카테고리 *"}),(0,l.jsx)("select",{id:"category",value:v.category,onChange:e=>b({...v,category:e.target.value}),className:"w-full px-3.5 py-3 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"},children:d.R6.map(e=>(0,l.jsx)("option",{value:e,children:e},e))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"description",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"설명 *"}),(0,l.jsx)("textarea",{id:"description",value:v.description,onChange:e=>b({...v,description:e.target.value}),placeholder:"커뮤니티에 대한 설명을 입력하세요 (링크 포함 가능)",rows:6,required:!0,className:"w-full px-3.5 py-3 rounded-ui-md border transition-all focus:outline-none focus:ring-2 resize-y",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)",minHeight:"140px"}})]}),(0,l.jsxs)("div",{className:"grid gap-5 grid-cols-1 sm:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"link",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"링크"}),(0,l.jsx)("input",{id:"link",type:"url",value:v.link,onChange:e=>b({...v,link:e.target.value}),placeholder:"https://example.com",className:"w-full px-3.5 py-3 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"memberCount",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"현재 인원"}),(0,l.jsx)("input",{id:"memberCount",type:"number",min:"0",value:v.memberCount,onChange:e=>b({...v,memberCount:Number(e.target.value)}),placeholder:"0",className:"w-full px-3.5 py-3 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"}})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"태그 선택 * (최소 1개)"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:d.MV.map(e=>(0,l.jsx)(u.P.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{b(r=>({...r,tags:r.tags.includes(e)?r.tags.filter(r=>r!==e):[...r.tags,e]}))},className:"px-3.5 py-1.5 rounded-ui-sm text-sm font-semibold border transition-all",style:{background:v.tags.includes(e)?"var(--vp-c-brand)":"var(--ui-surface-muted)",color:v.tags.includes(e)?"#fff":"var(--vp-c-text-2)",borderColor:v.tags.includes(e)?"transparent":"var(--ui-border)"},children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"image",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"홍보 이미지 (선택, 최대 5MB)"}),(0,l.jsx)("input",{id:"image",type:"file",accept:"image/*",onChange:function(e){var r;let a=null==(r=e.target.files)?void 0:r[0];if(a){if(a.size>5242880){f("이미지 크기는 5MB 이하여야 합니다."),w("error");return}if(!a.type.startsWith("image/")){f("이미지 파일만 업로드 가능합니다."),w("error");return}h(a);let e=new FileReader;e.onload=e=>{var r;x(null==(r=e.target)?void 0:r.result)},e.readAsDataURL(a)}},className:"w-full",style:{padding:"0.5rem 0"}}),p&&(0,l.jsxs)("div",{className:"relative mt-4 max-w-xs",children:[(0,l.jsx)("img",{src:p,alt:"미리보기",className:"w-full rounded-ui-md border",style:{borderColor:"var(--ui-border)",boxShadow:"var(--ui-shadow-sm)"}}),(0,l.jsx)("button",{type:"button",onClick:C,className:"absolute top-2.5 right-2.5 w-8 h-8 rounded-full flex items-center justify-center text-sm transition-all",style:{background:"rgba(0, 0, 0, 0.65)",color:"#fff"},children:"\xd7"})]})]}),y&&(0,l.jsx)(u.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3.5 rounded-ui-md border",style:{background:"success"===j?"var(--vp-c-brand-soft)":"var(--vp-c-danger-soft)",color:"success"===j?"var(--vp-c-brand-dark)":"var(--vp-c-danger)",borderColor:"success"===j?"rgba(27, 144, 127, 0.28)":"rgba(224, 90, 79, 0.3)"},children:y}),(0,l.jsx)(u.P.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},type:"submit",disabled:N,className:"w-full py-3.5 rounded-ui-sm font-semibold transition-all disabled:opacity-60",style:{background:"linear-gradient(120deg, var(--vp-c-brand), var(--ui-accent))",color:"#fff",boxShadow:"var(--ui-shadow-sm)"},children:N?"등록 중...":"커뮤니티 등록 신청"}),(0,l.jsx)("p",{className:"text-center text-sm",style:{color:"var(--vp-c-text-2)"},children:"등록 신청 후 관리자 승인이 필요합니다."})]})}),(0,l.jsxs)("aside",{className:"space-y-4",children:[(0,l.jsxs)(u.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"p-6 rounded-ui-lg border",style:{borderColor:"var(--ui-border)",background:"var(--ui-surface)",boxShadow:"var(--ui-shadow-sm)"},children:[(0,l.jsx)("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--vp-c-text-1)"},children:"등록 팁"}),(0,l.jsxs)("ul",{className:"space-y-2 pl-5 list-disc",style:{color:"var(--vp-c-text-2)"},children:[(0,l.jsx)("li",{children:"설명에는 활동 주제와 분위기를 알려주세요."}),(0,l.jsx)("li",{children:"태그는 2~4개 정도가 가장 효과적입니다."}),(0,l.jsx)("li",{children:"홍보 이미지는 커뮤니티 대표 분위기를 담아주세요."})]})]}),(0,l.jsxs)(u.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"p-6 rounded-ui-lg border",style:{borderColor:"var(--ui-border)",background:"var(--ui-surface)",boxShadow:"var(--ui-shadow-sm)"},children:[(0,l.jsx)("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--vp-c-text-1)"},children:"승인 기준"}),(0,l.jsx)("p",{style:{color:"var(--vp-c-text-2)"},children:"정보가 불명확하거나 중복된 커뮤니티는 승인 보류될 수 있습니다."})]})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex justify-center",children:(0,l.jsxs)("div",{className:"text-center p-8 rounded-ui-lg border max-w-md",style:{background:"var(--ui-surface)",borderColor:"var(--ui-border)",boxShadow:"var(--ui-shadow-sm)"},children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--vp-c-text-1)"},children:"로그인이 필요합니다"}),(0,l.jsx)("p",{className:"mb-6",style:{color:"var(--vp-c-text-2)"},children:"커뮤니티 등록은 인증된 사용자만 가능합니다."}),(0,l.jsx)(u.P.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>m(!0),className:"px-6 py-3 rounded-ui-sm font-semibold",style:{background:"var(--vp-c-brand)",color:"#fff",boxShadow:"var(--ui-shadow-sm)"},children:"로그인 / 회원가입"})]})}),(0,l.jsx)(c.A,{show:a,onClose:()=>m(!1),initialMode:"login"})]})}function v(){return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6",style:{color:"var(--vp-c-text-1)"},children:"커뮤니티 등록"}),(0,l.jsx)(m,{})]})}},9497:(e,r,a)=>{"use strict";a.d(r,{A:()=>i});var l=a(2115),o=a(1328),t=a(550),s=a(2168);function i(){let[e,r]=(0,l.useState)(null),[a,i]=(0,l.useState)(!0),[n,c]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=(0,t.ap)(),a=(0,o.hg)(e,e=>{r(e),c((null==e?void 0:e.uid)===s.LD),i(!1)});return()=>a()},[]),{user:e,loading:a,isAdmin:n,login:async(e,r)=>{let a=(0,t.ap)();return(0,o.x9)(a,e,r)},signup:async(e,r)=>{let a=(0,t.ap)();return(0,o.eJ)(a,e,r)},loginWithGoogle:async()=>{let e=(0,t.ap)(),r=new o.HF;return(0,o.df)(e,r)},logout:async()=>{let e=(0,t.ap)();return(0,o.CI)(e)}}}}},e=>{e.O(0,[135,497,852,441,255,358],()=>e(e.s=4158)),_N_E=e.O()}]);