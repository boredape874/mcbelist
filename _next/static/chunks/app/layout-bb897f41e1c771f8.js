(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{550:(e,r,t)=>{"use strict";t.d(r,{Lf:()=>p,ap:()=>x,fW:()=>f});var a=t(2078),s=t(9708),o=t(1328),l=t(9996),n=t(4663);let i={apiKey:"AIzaSyCo0OwR0-Hk6vLJ51BoYlKDLsFKjvLe-t8",authDomain:"mcbelist-51b64.firebaseapp.com",projectId:"mcbelist-51b64",storageBucket:"mcbelist-51b64.firebasestorage.app",messagingSenderId:"415710607201",appId:"1:415710607201:web:1e0f8b1e82fbea854c74f8",measurementId:"G-HKQQ73QGBG"},c=null,d=null,u=null,m=null,v=null;function b(){return c||(c=0===(0,a.Dk)().length?(0,a.Wp)(i):(0,a.Dk)()[0],d=(0,s.aU)(c),u=(0,o.xI)(c),m=(0,l.c7)(c),v=(0,n.P5)(c)),{app:c,db:d,auth:u,storage:m,analytics:v}}function p(){return d||b(),d}function x(){return u||b(),u}function f(){return m||b(),m}},1290:()=>{},2168:(e,r,t)=>{"use strict";t.d(r,{LD:()=>a,MV:()=>o,R6:()=>s});let a="KDwAH579lFVH69LoN0QnXIrPBXp2",s=["오픈채팅방","디스코드","기타"],o=["PvP","PvE","생존","크리에이티브","모드","애드온","서버","멀티플레이","싱글플레이","건축","레드스톤","마인크래프트 교육용","커맨드 블록","맵 제작","스킨","텍스처팩","리소스팩","행동팩","스카이블록","베드워즈","스카이워즈","미니게임","파크루","어드벤처","호러","탈출맵","퍼즐","롤플레이","RPG","경제","타운","서바이벌게임","헝거게임","팀전","PvE 협동","레이드","던전"]},3547:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(5155),s=t(2115),o=t(9497),l=t(1408),n=t(4486);function i(e){let{show:r,onClose:t,initialMode:i}=e,[c,d]=(0,s.useState)(i),[u,m]=(0,s.useState)(""),[v,b]=(0,s.useState)(""),[p,x]=(0,s.useState)(""),[f,h]=(0,s.useState)(""),[g,y]=(0,s.useState)(!1),{login:j,signup:N,loginWithGoogle:w}=(0,o.A)(),k=async e=>{if(e.preventDefault(),h(""),"signup"===c&&v!==p)return void h("비밀번호가 일치하지 않습니다.");if(v.length<6)return void h("비밀번호는 최소 6자 이상이어야 합니다.");y(!0);try{"login"===c?await j(u,v):await N(u,v),t(),m(""),b(""),x("")}catch(e){console.error("Auth error:",e),"auth/email-already-in-use"===e.code?h("이미 사용 중인 이메일입니다."):"auth/invalid-email"===e.code?h("유효하지 않은 이메일입니다."):"auth/user-not-found"===e.code?h("사용자를 찾을 수 없습니다."):"auth/wrong-password"===e.code?h("비밀번호가 올바르지 않습니다."):"auth/invalid-credential"===e.code?h("이메일 또는 비밀번호가 올바르지 않습니다."):h("인증 중 오류가 발생했습니다.")}finally{y(!1)}},C=async()=>{h(""),y(!0);try{await w(),t()}catch(e){console.error("Google login error:",e),h("Google 로그인 중 오류가 발생했습니다.")}finally{y(!1)}};return r?(0,a.jsx)(l.N,{children:r&&(0,a.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.6)"},onClick:t,children:(0,a.jsxs)(n.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-md p-6 rounded-ui-lg border",style:{background:"var(--ui-surface)",borderColor:"var(--ui-border)",boxShadow:"var(--ui-shadow-md)"},onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",style:{color:"var(--vp-c-text-1)"},children:"login"===c?"로그인":"회원가입"}),(0,a.jsx)("button",{onClick:t,className:"text-2xl font-bold w-8 h-8 flex items-center justify-center rounded hover:bg-opacity-10",style:{color:"var(--vp-c-text-2)"},children:"\xd7"})]}),(0,a.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"이메일"}),(0,a.jsx)("input",{id:"email",type:"email",value:u,onChange:e=>m(e.target.value),required:!0,className:"w-full px-3 py-2 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"},placeholder:"example@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"비밀번호"}),(0,a.jsx)("input",{id:"password",type:"password",value:v,onChange:e=>b(e.target.value),required:!0,className:"w-full px-3 py-2 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"},placeholder:"최소 6자"})]}),"signup"===c&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block mb-2 font-semibold",style:{color:"var(--vp-c-text-1)"},children:"비밀번호 확인"}),(0,a.jsx)("input",{id:"confirmPassword",type:"password",value:p,onChange:e=>x(e.target.value),required:!0,className:"w-full px-3 py-2 rounded-ui-md border transition-all focus:outline-none focus:ring-2",style:{borderColor:"var(--ui-border-strong)",background:"var(--vp-c-bg)",color:"var(--vp-c-text-1)"},placeholder:"비밀번호 재입력"})]}),f&&(0,a.jsx)("div",{className:"p-3 rounded-ui-md border",style:{background:"var(--vp-c-danger-soft)",color:"var(--vp-c-danger)",borderColor:"rgba(224, 90, 79, 0.3)"},children:f}),(0,a.jsx)("button",{type:"submit",disabled:g,className:"w-full py-3 rounded-ui-sm font-semibold transition-all disabled:opacity-60",style:{background:"var(--vp-c-brand)",color:"#fff",boxShadow:"var(--ui-shadow-sm)"},children:g?"처리 중...":"login"===c?"로그인":"회원가입"})]}),(0,a.jsxs)("div",{className:"relative my-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",style:{borderTop:"1px solid var(--ui-border)"}}),(0,a.jsx)("div",{className:"relative flex justify-center",children:(0,a.jsx)("span",{className:"px-2 text-sm",style:{background:"var(--ui-surface)",color:"var(--vp-c-text-2)"},children:"또는"})})]}),(0,a.jsxs)("button",{onClick:C,disabled:g,className:"w-full py-3 rounded-ui-sm font-semibold border transition-all disabled:opacity-60",style:{borderColor:"var(--ui-border-strong)",color:"var(--vp-c-text-1)",background:"var(--ui-surface-muted)"},children:["Google로 ","login"===c?"로그인":"회원가입"]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("button",{onClick:()=>{d("login"===c?"signup":"login"),h("")},className:"text-sm transition-colors",style:{color:"var(--vp-c-brand)"},children:"login"===c?"계정이 없으신가요? 회원가입":"이미 계정이 있으신가요? 로그인"})})]})})}):null}},5873:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,1290,23)),Promise.resolve().then(t.bind(t,9703))},9497:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var a=t(2115),s=t(1328),o=t(550),l=t(2168);function n(){let[e,r]=(0,a.useState)(null),[t,n]=(0,a.useState)(!0),[i,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=(0,o.ap)(),t=(0,s.hg)(e,e=>{r(e),c((null==e?void 0:e.uid)===l.LD),n(!1)});return()=>t()},[]),{user:e,loading:t,isAdmin:i,login:async(e,r)=>{let t=(0,o.ap)();return(0,s.x9)(t,e,r)},signup:async(e,r)=>{let t=(0,o.ap)();return(0,s.eJ)(t,e,r)},loginWithGoogle:async()=>{let e=(0,o.ap)(),r=new s.HF;return(0,s.df)(e,r)},logout:async()=>{let e=(0,o.ap)();return(0,s.CI)(e)}}}},9703:(e,r,t)=>{"use strict";t.d(r,{default:()=>u});var a=t(5155),s=t(2619),o=t.n(s),l=t(7260),n=t(2115),i=t(9497),c=t(3547);function d(){let{user:e,loading:r,logout:t,isAdmin:s}=(0,i.A)(),[l,d]=(0,n.useState)(!1);async function u(){try{await t()}catch(e){console.error("Logout failed:",e)}}return r?(0,a.jsx)("div",{style:{color:"var(--vp-c-text-2)",fontSize:"0.85rem"},children:"..."}):e?(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[s&&(0,a.jsx)(o(),{href:"/admin",className:"px-3 py-1.5 rounded-ui-sm text-sm font-semibold border transition-all",style:{borderColor:"var(--vp-c-brand)",color:"var(--vp-c-brand)",background:"var(--vp-c-brand-soft)"},children:"관리자"}),(0,a.jsx)("div",{className:"flex items-center gap-2 px-2.5 py-1.5 rounded-ui-sm border max-w-[260px]",style:{borderColor:"var(--ui-border)",background:"var(--ui-surface)",boxShadow:"var(--ui-shadow-sm)"},children:(0,a.jsxs)("div",{className:"grid gap-0.5 min-w-0",children:[(0,a.jsx)("span",{className:"text-xs font-semibold truncate",style:{color:"var(--vp-c-text-1)"},children:e.email}),(0,a.jsxs)("span",{className:"text-[0.7rem] font-mono truncate cursor-help",style:{color:"var(--vp-c-text-3)"},title:e.uid,children:["UID: ",e.uid.slice(0,8),"..."]})]})}),(0,a.jsx)("button",{onClick:u,className:"px-3.5 py-1.5 rounded-ui-sm text-sm font-semibold border transition-all",style:{background:"var(--ui-surface-muted)",color:"var(--vp-c-text-2)",borderColor:"var(--ui-border)"},children:"로그아웃"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>d(!0),className:"px-3.5 py-1.5 rounded-ui-sm text-sm font-semibold transition-all hover:-translate-y-0.5",style:{background:"var(--vp-c-brand)",color:"#fff",boxShadow:"var(--ui-shadow-sm)"},children:"로그인"}),(0,a.jsx)(c.A,{show:l,onClose:()=>d(!1),initialMode:"login"})]})}function u(){let e=(0,l.usePathname)();return(0,a.jsx)("nav",{className:"border-b sticky top-0 z-50",style:{borderColor:"var(--ui-border)",background:"var(--vp-c-bg)",backdropFilter:"blur(8px)"},children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-8",children:[(0,a.jsx)(o(),{href:"/",className:"text-xl font-bold",style:{color:"var(--vp-c-brand)"},children:"MCBeList"}),(0,a.jsxs)("div",{className:"hidden md:flex gap-6",children:[(0,a.jsx)(o(),{href:"/",className:"transition-colors ".concat("/"===e?"font-semibold":""),style:{color:"/"===e?"var(--vp-c-brand)":"var(--vp-c-text-1)"},children:"홈"}),(0,a.jsx)(o(),{href:"/list",className:"transition-colors ".concat("/list"===e?"font-semibold":""),style:{color:"/list"===e?"var(--vp-c-brand)":"var(--vp-c-text-1)"},children:"커뮤니티 목록"}),(0,a.jsx)(o(),{href:"/submit",className:"transition-colors ".concat("/submit"===e?"font-semibold":""),style:{color:"/submit"===e?"var(--vp-c-brand)":"var(--vp-c-text-1)"},children:"커뮤니티 등록"})]})]}),(0,a.jsx)(d,{})]})})})}}},e=>{e.O(0,[741,135,497,852,619,441,255,358],()=>e(e.s=5873)),_N_E=e.O()}]);